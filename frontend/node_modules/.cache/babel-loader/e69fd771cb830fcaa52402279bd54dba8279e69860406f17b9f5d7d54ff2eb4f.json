{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport styles from \"../../styles/styles\";\nimport { categoriesData, productData } from \"../../static/data\";\nimport { Link } from \"react-router-dom\";\nimport { AiOutlineHeart, AiOutlineSearch, AiOutlineShoppingCart } from \"react-icons/ai\";\nimport { CgProfile } from \"react-icons/cg\";\nimport { IoIosArrowDown, IoIosArrowForward, IoIosArrowUp } from \"react-icons/io\";\nimport { BiMenuAltLeft } from \"react-icons/bi\";\nimport DropDown from \"./DropDown\";\nimport Navbar from \"./Navbar\";\nimport { useSelector } from \"react-redux\";\nimport { backend_url } from \"../../server\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Header = ({\n  activeHeading\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    user,\n    loading\n  } = useSelector(state => state.user);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [dropDown, setDropDown] = useState(false);\n  const [searchData, setSearchData] = useState(null);\n  const [active, setActive] = useState(false);\n  console.log(user);\n  const removeAccents = str => {\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n  };\n  const handleSearchChange = e => {\n    const term = e.target.value;\n    setSearchTerm(term);\n    const formattedTerm = removeAccents(term.toLowerCase());\n    const filteredProducts = productData && productData.filter(product => removeAccents(product.name.toLowerCase()).includes(formattedTerm));\n    setSearchData(filteredProducts);\n  };\n  const searchRef = useRef(null);\n  const handleClickOutside = event => {\n    if (searchRef.current && !searchRef.current.contains(event.target)) {\n      setSearchData(null);\n    }\n  };\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n  window.addEventListener(\"scroll\", () => {\n    if (window.scrollY > 70) {\n      setActive(true);\n    } else {\n      setActive(false);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(Header, \"y9hi2cBay9UtjAZNFU1+2K0JBpw=\", false, function () {\n  return [useSelector];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styles","categoriesData","productData","Link","AiOutlineHeart","AiOutlineSearch","AiOutlineShoppingCart","CgProfile","IoIosArrowDown","IoIosArrowForward","IoIosArrowUp","BiMenuAltLeft","DropDown","Navbar","useSelector","backend_url","Fragment","_Fragment","jsxDEV","_jsxDEV","Header","activeHeading","_s","isAuthenticated","user","loading","state","searchTerm","setSearchTerm","dropDown","setDropDown","searchData","setSearchData","active","setActive","console","log","removeAccents","str","normalize","replace","handleSearchChange","e","term","target","value","formattedTerm","toLowerCase","filteredProducts","filter","product","name","includes","searchRef","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","window","scrollY","_c","$RefreshReg$"],"sources":["D:/Study/KLTN/Code/EcommerFull/frontend/src/components/Layout/Header.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport styles from \"../../styles/styles\";\r\nimport { categoriesData, productData } from \"../../static/data\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  AiOutlineHeart,\r\n  AiOutlineSearch,\r\n  AiOutlineShoppingCart,\r\n} from \"react-icons/ai\";\r\nimport { CgProfile } from \"react-icons/cg\";\r\nimport {\r\n  IoIosArrowDown,\r\n  IoIosArrowForward,\r\n  IoIosArrowUp,\r\n} from \"react-icons/io\";\r\nimport { BiMenuAltLeft } from \"react-icons/bi\";\r\nimport DropDown from \"./DropDown\";\r\nimport Navbar from \"./Navbar\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { backend_url } from \"../../server\";\r\n\r\nconst Header = ({ activeHeading }) => {\r\n  const { isAuthenticated, user, loading } = useSelector((state) => state.user);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [dropDown, setDropDown] = useState(false);\r\n  const [searchData, setSearchData] = useState(null);\r\n  const [active, setActive] = useState(false);\r\n\r\n  console.log(user);\r\n\r\n  const removeAccents = (str) => {\r\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    const term = e.target.value;\r\n    setSearchTerm(term);\r\n\r\n    const formattedTerm = removeAccents(term.toLowerCase());\r\n\r\n    const filteredProducts =\r\n      productData &&\r\n      productData.filter((product) =>\r\n        removeAccents(product.name.toLowerCase()).includes(formattedTerm)\r\n      );\r\n\r\n    setSearchData(filteredProducts);\r\n  };\r\n\r\n  const searchRef = useRef(null);\r\n\r\n  const handleClickOutside = (event) => {\r\n    if (searchRef.current && !searchRef.current.contains(event.target)) {\r\n      setSearchData(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClickOutside);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  window.addEventListener(\"scroll\", () => {\r\n    if (window.scrollY > 70) {\r\n      setActive(true);\r\n    } else {\r\n      setActive(false);\r\n    }\r\n  });\r\n\r\n  return (\r\n  <>\r\n  \r\n  </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}